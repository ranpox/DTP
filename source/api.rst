API接口
=======

URL：\http://api.dtp-cloud.cn/query

Method：POST

Content-Type：application/json


Request Parameters：

+-----------------+-----------------+----------------------------------------+-----------------+
| Name            | Type            | Description                            | Required        |
+=================+=================+========================================+=================+
| agent_id        | String          | 机器人唯一ID,可在配置栏查看            | Yes             |
+-----------------+-----------------+----------------------------------------+-----------------+
| type            | Integer         | 机器人类型  0表示任务型，1表示闲聊型   | Yes             |
+-----------------+-----------------+----------------------------------------+-----------------+
| query           | String          | 用户表达                               | Yes             |
+-----------------+-----------------+----------------------------------------+-----------------+
| session_id      | String          | 小于32个字符的字符串,用来区            | Yes             |
|                 |                 | 分用户,需要开发者自行生成              |                 |
+-----------------+-----------------+----------------------------------------+-----------------+

任务型API回复格式
----------------------

Response Parameters：

+---------------+--------+-----------------------------+
| Name          | Type   | Description                 |
+===============+========+=============================+
| query         | String | 用户表达                    |
+---------------+--------+-----------------------------+
| action        | String | 机器人回复                  |
+---------------+--------+-----------------------------+
| state         | Object | 对话状态信息，多轮NLU的结果 |
+---------------+--------+-----------------------------+
| \- intent_name| String | 意图                        |
+---------------+--------+-----------------------------+
| \- slots      | Array  | 语义槽列表                  |
+---------------+--------+-----------------------------+
| \-- name      | String | 语义槽的名称                |
+---------------+--------+-----------------------------+
| \-- value     | String | 语义槽的值                  |
+---------------+--------+-----------------------------+

请求样例：

::

    POST http://api.dtp-cloud.cn/query

    Headers:

    Content-Type: application/json

    POST body:

    {
        "agent_id": "5a6f201565e58b0989db13fc", 
        "type":0,
        "query": "你好啊，帮我查下今天的天气吧", 
        "session_id": "12345"
    }

    Response Parameters:

    {
        "state": {
            "slots": [ ], 
            "intent_name": "查天气"
        }, 
        "action": "请问您要查询哪里的天气呢？", 
        "query": "你好啊，帮我查下今天的天气吧"
    }


闲聊型API回复格式
----------------------

Response Parameters：

+---------------+--------+-----------------------------+
| Name          | Type   | Description                 |
+===============+========+=============================+
| query         | String | 用户表达                    |
+---------------+--------+-----------------------------+
| context       | String | 机器人回复                  |
+---------------+--------+-----------------------------+

请求样例：

::

    POST http://api.dtp-cloud.cn/query

    Headers:

    Content-Type: application/json

    POST body:

    {
        "agent_id": "5a6f201565e58b0989db13fc", 
        "type":1,
        "query": "你好", 
        "session_id": "12345"
    }

    Response Parameters:

    {
        "context": "我叫小毛，是个程序猿", 
        "query": "做个自我介绍吧"
    }
